<!DOCTYPE html>
<html>
    <head>
        <title>ÊúÄÁµÇÊàêÂìÅÁ¥∞ÁØÄË™øÊï¥</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="images/favicon.ico" rel="shortcut icon" />
        <meta charset="UTF-8" />
        <script src="/javascripts/vendor.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.2.37/vue.global.js"></script>
    </head>
    <body class="bg-lighter">
        <div class="container main my-5">
            <div class="row">
                <main class="col post">
                    <!-- Á´†ÁØÄÊ®ôÈ°å -->
                    <div class="mb-4">
                        <h1 class="mt-0 text-muted">ÊúÄÁµÇÊàêÂìÅÁ¥∞ÁØÄË™øÊï¥</h1>
                        <small>Ê™îÂêçÔºö<code>final.html</code></small>
                    </div>
                    <!-- üî•üî•Á∑¥ÁøíÈñãÂßãüî•üî• -->
                    <div id="app">
                        <div class="text-end">
                            <button
                                type="button"
                                class="btn btn-primary"
                                @click="addItem"
                            >
                                Êñ∞Â¢û
                            </button>
                        </div>
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Ê®ôÈ°å</th>
                                    <th>ÂúñÁâá</th>
                                    <th>Èä∑ÂîÆÁãÄÊÖã</th>
                                    <th>Á∑®ËºØ</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- v-for ÊíàÂèñË≥áÊñô -->
                                <!-- :key ÂîØ‰∏ÄÂÄº-->
                                <!-- v-bind: Á∂ÅÂÆö htmlÂ±¨ÊÄß Á∏ÆÂØ´ :-->
                                <!-- ÈõôÂêëÁ∂ÅÂÆö item.onStockÂà§Êñ∑ÊòØÂê¶Âä†ÂÖ• class -->
                                <tr
                                    v-for="item in products"
                                    :key="item.id"
                                    :class="{'table-success': item.onStock}"
                                >
                                    <td>{{ item.name }}</td>
                                    <td>
                                        <!-- v-bind: Á∂ÅÂÆö htmlÂ±¨ÊÄß Á∏ÆÂØ´ :-->
                                        <img
                                            :src="item.imageUrl"
                                            alt=""
                                            height="100"
                                        />
                                    </td>
                                    <td>
                                        <!-- v-model ÈõôÂêëÁ∂ÅÂÆö -->
                                        <input
                                            type="checkbox"
                                            v-model="item.onStock"
                                        />
                                    </td>
                                    <td>
                                        <!-- button Ê®ôÁ±§ typeÈ†êË®≠ submit(Ë°®ÂñÆÈÄÅÂá∫) -->
                                        <!--ÈÄèÈÅé v-on:clickÁ∂ÅÂÆö‰∫ã‰ª∂ÔºåÁ∏ÆÂØ´ @click-->
                                        <button
                                            type="button"
                                            class="btn btn-outline-primary"
                                            @click="editItem(item)"
                                        >
                                            ‰øÆÊîπ
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <!-- v-if Âà§Êñ∑Âºè -->
                        <!-- Âà§Êñ∑ isNewÁÇ∫ true or id‰∏çÁÇ∫Á©∫ -->
                        <form v-if="isNew || temp.id">
                            <div class="mb-3">
                                <label for="productName" class="form-label"
                                    >Áî¢ÂìÅÂêçÁ®±</label
                                >
                                <!-- v-model ÈõôÂêëÁ∂ÅÂÆö -->
                                <input
                                    type="text"
                                    id="productName"
                                    class="form-control"
                                    v-model="temp.name"
                                />
                            </div>
                            <div class="mb-3">
                                <label for="productImage" class="form-label"
                                    >Áî¢ÂìÅÂúñÁâá</label
                                >
                                <!-- v-model ÈõôÂêëÁ∂ÅÂÆö -->
                                <input
                                    type="text"
                                    id="productImage"
                                    class="form-control"
                                    v-model="temp.imageUrl"
                                />
                            </div>
                            <!-- button Ê®ôÁ±§ typeÈ†êË®≠ submit(Ë°®ÂñÆÈÄÅÂá∫) -->
                            <!--ÈÄèÈÅé v-on:clickÁ∂ÅÂÆö‰∫ã‰ª∂ÔºåÁ∏ÆÂØ´ @click-->
                            <button
                                type="button"
                                class="btn btn-secondary"
                                @click="confirmEdit"
                            >
                                Êõ¥Êñ∞
                            </button>
                        </form>
                    </div>

                    <script>
                        // Ë®≠Ë®à‰∏ÄÂÄã productsÁ±ÉÂ≠ê
                        const products = [
                            {
                                id: "1",
                                imageUrl:
                                    "https://images.unsplash.com/photo-1516906571665-49af58989c4e?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=300&q=80",
                                name: "MacBook Pro",
                                onStock: false,
                            },
                            {
                                id: "2",
                                imageUrl:
                                    "https://images.unsplash.com/photo-1512499617640-c74ae3a79d37?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=80",
                                name: "iPhone",
                                onStock: false,
                            },
                        ];
                        const App = {
                            // Ë≥áÊñô(ÂáΩÂºè)
                            data() {
                                return {
                                    products: [],
                                    temp: {},
                                    isNew: false, // ÁãÄÊÖã Ê±∫ÂÆöÊòØÂê¶Êñ∞Â¢ûÁî¢ÂìÅ
                                };
                            },
                            // ÊñπÊ≥ï(Áâ©‰ª∂)
                            methods: {
                                // Êñ∞Â¢ûË°®ÂñÆ
                                addItem() {
                                    this.isNew = true; // È°ØÁ§∫Êñ∞Â¢ûË°®ÂñÆ
                                    this.temp = {}; // Ê∏ÖÁ©∫Á±ÉÂ≠ê
                                },
                                // È°ØÁ§∫Ë¶Å‰øÆÊîπÁöÑË≥áÊñô
                                editItem(item) {
                                    this.temp = { ...item }; // Ê∑∫Â±§Êã∑Ë≤ù
                                },
                                // Êñ∞Â¢û or ‰øÆÊîπ
                                confirmEdit() {
                                    // Âà§Êñ∑ id‰∏çÂ≠òÂú® Êñ∞Â¢ûË≥áÊñô
                                    if (!this.temp.id) {
                                        this.temp.id = new Date().getTime(); // unix timestamp ÈÄôË£°Âà©Áî®ÊôÇÈñì‰æÜ Áî¢ÁîüÂîØ‰∏ÄÂÄº
                                        this.temp.onStock = false;
                                        // push Â†ÜÁñä
                                        this.products.push(this.temp); // Êää tempÂä†ÂÖ•Âà∞ products
                                    } else {
                                        // ÊíàÂèñË≥áÊñôÊØîÂ∞ç Ëã• idÁõ∏Âêå Êõ¥Êñ∞Ë≥áÊñô
                                        this.products.forEach((item, i) => {
                                            if (item.id === this.temp.id) {
                                                this.products[i] = this.temp; // Êõ¥Êñ∞Ë≥áÊñô
                                            }
                                        });
                                    }
                                    this.isNew = false; // Èö±ËóèÊñ∞Â¢ûË°®ÂñÆ
                                    this.temp = {}; // Ê∏ÖÁ©∫Á±ÉÂ≠ê
                                },
                            },
                            // ÁîüÂëΩÈÄ±Êúü(ÂáΩÂºè)
                            created() {
                                this.products = products; // Â∞éÂÖ•Â§ñÈÉ®Ë≥áÊñô
                            },
                        };

                        // ÂâµÂª∫‰∏ÄÂÄã VueÁöÑÂØ¶‰æã
                        // mount ÊéõËºâ VueÁöÑÂÆπÂô®
                        Vue.createApp(App).mount("#app");
                    </script>
                    <!-- üôáüôáÁ∑¥ÁøíÁµêÊùüüôáüôá -->
                </main>

                <aside class="col-md-3">
                    <div class="sticky-top" style="top: 76px">
                        <div class="list-group">
                            <a
                                href="/intro/createApp.html"
                                class="list-group-item list-group-item-action"
                            >
                                Áí∞Â¢ÉÂÆâË£ù
                            </a>

                            <a
                                href="/intro/basic_structure.html"
                                class="list-group-item list-group-item-action"
                            >
                                Âü∫Á§éÁµêÊßã
                            </a>

                            <a
                                href="/intro/two_way_binding.html"
                                class="list-group-item list-group-item-action"
                            >
                                ÈõôÂêëÁ∂ÅÂÆö
                            </a>

                            <a
                                href="/intro/intro_add_data.html"
                                class="list-group-item list-group-item-action"
                            >
                                Ë≥áÊñôÊìç‰Ωú
                            </a>

                            <a
                                href="/intro/intro_render_vfor.html"
                                class="list-group-item list-group-item-action"
                            >
                                Â§öÁ≠ÜÁï´Èù¢Ê∏≤Êüì
                            </a>

                            <a
                                href="/intro/intro_edit_data.html"
                                class="list-group-item list-group-item-action"
                            >
                                Ë≥áÊñôÁ∑®ËºØ
                            </a>

                            <a
                                href="/intro/final.html"
                                class="list-group-item list-group-item-action active"
                            >
                                ÊúÄÁµÇÊàêÂìÅÁ¥∞ÁØÄË™øÊï¥
                            </a>
                        </div>
                        <div class="mt-3 text-end p-2 bg-light rounded">
                            <small class="text-black-50 fw-light mb-0"
                                >Êñá‰ª∂ÁâàÊú¨Ôºö2022/6/21</small
                            >
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <nav class="navbar fixed-top navbar-expand-sm navbar-dark bg-secondary">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">Vue 3 Á∑¥ÁøíÊâãÂÜä</a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav">
                        <li class="nav-item active">
                            <a class="nav-link" href="/es6/shorthand.html"
                                >JS ÂøÖÂÇôËßÄÂøµ</a
                            >
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link active"
                                href="/intro/createApp.html"
                                >Ë™çË≠ò Vue.js</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/template/v-text.html"
                                >Ê®°Êùø</a
                            >
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                href="/optionsApi/options-methods.html"
                                >ÊñπÊ≥ï</a
                            >
                        </li>
                        <li class="nav-item">
                            <a
                                class="nav-link"
                                href="/components/component_register.html"
                                >ÂÖÉ‰ª∂</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/advApi/adv-refs.html"
                                >ÈÄ≤Èöé</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/router/vue-router.html"
                                >Ë∑ØÁî±</a
                            >
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/composition/proxy.html"
                                >Composition API</a
                            >
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <footer class="footer py-2 bg-light">
            <div class="container text-center">
                <small class="text-black-50 fw-light mb-0"
                    >ÂÖ≠ËßíÂ≠∏Èô¢ Vue Ë™≤Á®ãÂ∞àÂ±¨Êñá‰ª∂</small
                >
            </div>
        </footer>
        <link rel="stylesheet" href="/stylesheets/all.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
        />
    </body>
</html>
